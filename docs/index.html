<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="An interface to iDigBio's search API that allows downloading
  specimen records. Searches are returned as a data.frame. Other functions
  such as the metadata end points return lists of information. iDigBio is a US
  project focused on digitizing and serving museum specimen collections on the
  web. See &lt;https://www.idigbio.org&gt; for information on iDigBio.">
<title>Interface to the iDigBio Data API â€¢ ridigbio</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Interface to the iDigBio Data API">
<meta property="og:description" content="An interface to iDigBio's search API that allows downloading
  specimen records. Searches are returned as a data.frame. Other functions
  such as the metadata end points return lists of information. iDigBio is a US
  project focused on digitizing and serving museum specimen collections on the
  web. See &lt;https://www.idigbio.org&gt; for information on iDigBio.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ridigbio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/BasicUsage.html">Introduction to ridigbio</a>
    <a class="dropdown-item" href="articles/Fields.html">Fields in ridigbio</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1></div>
<p>This should automatically install the package from a CRAN mirror if you have one configured:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ridigbio"</span>)</span></code></pre></div>
<p>If R says the package is unavailable, you may not have set a CRAN mirror. You can do so with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">chooseCRANmirror</span>()</span></code></pre></div>
<p>If R says that a binary package is not available, your version of R may be too old. Please review the versions of R that CRAN has built packages for on the <a href="https://cran.r-project.org/package=ridigbio" class="external-link">CRAN ridigbio package page.</a> You can download the source package and install manually if there is no package built for your version of R. You may also need to install any dependencies.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ridigbio"</span>, <span class="at">type=</span><span class="st">"source"</span>)</span></code></pre></div>
<p>On Linux, you may encounter an error during the installation process if you do not have <code>libcurl</code> installed. The method for installing libcurl will vary between distributions, but on Ubuntu you can install the latest version via:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>sudo apt install libcurl4</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h1>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"ridigbio"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">idig_search_records</span>(<span class="at">rq=</span><span class="fu">list</span>(<span class="at">genus=</span><span class="st">"galax"</span>))</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">idig_search_records</span>(<span class="at">rq=</span><span class="fu">list</span>(<span class="at">family=</span><span class="st">"holothuriidae"</span>), <span class="at">limit=</span><span class="dv">1000</span>)</span></code></pre></div>
<p>Complete list of terms that can be used is available <a href="https://github.com/iDigBio/idigbio-search-api/wiki/Index-Fields#record-query-fields" class="external-link">here</a>. However, this only contains a subset of the fields. To see all raw fields available with the record API, you can run the following:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>record_fields <span class="ot">&lt;-</span> <span class="fu">idig_meta_fields</span>(<span class="at">type =</span> <span class="st">"records"</span>, <span class="at">subset =</span> <span class="st">"raw"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>rfall <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">0</span>))</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(record_fields)){</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(record_fields[[i]]) <span class="sc">==</span> <span class="dv">2</span>){</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    rf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">0</span>))</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>    rf[<span class="dv">1</span>, <span class="dv">1</span>] <span class="ot">&lt;-</span>  <span class="fu">names</span>(record_fields[i])</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>    rf[<span class="dv">1</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span>  (record_fields[[i]])<span class="sc">$</span>type</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>    rf[<span class="dv">1</span>, <span class="dv">3</span>] <span class="ot">&lt;-</span>  (record_fields[[i]])<span class="sc">$</span>fieldName</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>    rfall <span class="ot">&lt;-</span> <span class="fu">rbind</span>(rfall, rf)</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>    sub <span class="ot">&lt;-</span> record_fields[[i]]</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sub)){</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a>      rf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">0</span>))</span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a>      rf[<span class="dv">1</span>, <span class="dv">1</span>] <span class="ot">&lt;-</span>  <span class="fu">names</span>(sub[j])</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a>      rf[<span class="dv">1</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span>  (sub[[j]])<span class="sc">$</span>type</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a>      rf[<span class="dv">1</span>, <span class="dv">3</span>] <span class="ot">&lt;-</span>  (sub[[j]])<span class="sc">$</span>fieldName</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a>      rfall <span class="ot">&lt;-</span> <span class="fu">rbind</span>(rfall, rf)</span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a>    }</span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a>  }</span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a>}</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a><span class="fu">colnames</span>(rfall) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"type"</span>, <span class="st">"fieldName"</span>)</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="recent-updates">Recent updates<a class="anchor" aria-label="anchor" href="#recent-updates"></a>
</h1>
<ul>
<li>
<p>Default fields returned to users have been updated to return research-grade fields. Previously, we returned the <code>datecollected</code> field by default, which we do not recommend to be used in scientific research.</p>
<ul>
<li>What is <code>datecollected</code>? This is a field created during the data ingestion process. When a data provider does not provide a full date in the Darwin Core <a href="https://dwc.tdwg.org/list/#dwc_eventDate" class="external-link">eventDate</a> field, this complete value or the missing parts (i.e., month and/or day) are randomly generated and thus may lack any real meaning. The generated dates are difficult to detect, as they are randomly distributed. We are currently working to modify our ingestion pipeline to avoid randomly generating dates. However, dates remain an issue across biodiversity aggregators and the solution is not clear (see <a href="https://discourse.gbif.org/t/please-share-your-dates-correctly/3824/5" class="external-link">GBIF for example</a>).</li>
<li>To prevent user misuse of this term, we will no longer be providing the <code>datecollected</code> field by default and will instead be returning the following fields: <code>c("data.dwc:eventDate", "data.dwc:year",  "data.dwc:month", "data.dwc:day")</code>.
<ul>
<li>Please be advised that these fields are not in date format. Instead, all dates will be text strings. There are many ways to convert these to dates, for example, see <a href="https://github.com/nataliepatten/gatoRs/blob/main/R/remove_duplicates.R" class="external-link">gatoRs remove_duplicate function</a> or <a href="https://github.com/iDigBio/ridigbio/issues/44#issuecomment-1889897604" class="external-link">ridigbio proposed solution here</a>.</li>
</ul>
</li>
</ul>
</li>
<li><p>Additional documentation has been added to streamline data use.</p></li>
</ul>
</div>
<div class="section level1">
<h1 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h1>
<p>MIT</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ridigbio" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/iDigBio/ridigbio/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/iDigBio/ridigbio/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ridigbio</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Francois Michonneau <br><small class="roles"> Author, copyright holder </small>  </li>
<li>Matthew Collins <br><small class="roles"> Author </small>  </li>
<li>Jesse Bennett <br><small class="roles"> Maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://app.travis-ci.com/github/iDigBio/ridigbio" class="external-link"><img src="https://api.travis-ci.com/iDigBio/ridigbio.svg?branch=master" alt="Build Status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Francois Michonneau, Matthew Collins, Jesse Bennett.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
