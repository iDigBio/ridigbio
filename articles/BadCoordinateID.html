<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Identification of Suspicious Coordinates • ridigbio</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Identification of Suspicious Coordinates">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-87H3DWSJHN"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-87H3DWSJHN');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ridigbio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/BasicUsage.html">Introduction to ridigbio</a></li>
    <li><a class="dropdown-item" href="../articles/RecordAPIDemo.html">Record API Demo</a></li>
    <li><a class="dropdown-item" href="../articles/MediaAPIDemo.html">Media API Demo</a></li>
    <li><a class="dropdown-item" href="../articles/Fields.html">Fields in ridigbio</a></li>
    <li><a class="dropdown-item" href="../articles/FindTissue.html">Tissue Samples Locator Demo</a></li>
    <li><a class="dropdown-item" href="../articles/ModifiedDataID.html">Identification of Modified Data</a></li>
    <li><a class="dropdown-item" href="../articles/BadCoordinateID.html">Identification of Suspicious Coordinates</a></li>
    <li><a class="dropdown-item" href="../articles/IDDataFlags.html">Identification of Data Flags</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="BadCoordinateID_files/kePrint-0.0.1/kePrint.js"></script><link href="BadCoordinateID_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="BadCoordinateID_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="BadCoordinateID_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="BadCoordinateID_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="BadCoordinateID_files/leaflet-1.3.1/leaflet.js"></script><link href="BadCoordinateID_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="BadCoordinateID_files/proj4-2.6.2/proj4.min.js"></script><script src="BadCoordinateID_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="BadCoordinateID_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="BadCoordinateID_files/leaflet-binding-2.2.2/leaflet.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Identification of Suspicious Coordinates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/iDigBio/ridigbio/blob/main/vignettes/BadCoordinateID.Rmd" class="external-link"><code>vignettes/BadCoordinateID.Rmd</code></a></small>
      <div class="d-none name"><code>BadCoordinateID.Rmd</code></div>
    </div>

    
    
<p>Code here written by <a href="https://orcid.org/0000-0003-3192-0080" class="external-link">Erica Krimmel</a>. Code
here is modified from <a href="https://github.com/ekrimmel/idigbio-api-dq-geo" class="external-link">original</a> given
in a presentation at the 2019 ADBC Summit in Gainesville, FL.</p>
<div class="section level2">
<h2 id="general-overview">General Overview<a class="anchor" aria-label="anchor" href="#general-overview"></a>
</h2>
<p>Here we explore a situation where <strong>geographic coordinate
data</strong> from the provider was modified by iDigBio during its data
quality assurance process. See <a href="https://github.com/iDigBio/idigbio-search-api/wiki/Data-Quality-Flags" class="external-link">here</a>
for more information about iDigBio’s data quality flags.</p>
<p>In this demo we will cover how to:</p>
<ol style="list-style-type: decimal">
<li>Write a query to search for specimens using
<code>idig_search_records</code>
</li>
<li>Identify and map suspicious coordinates</li>
</ol>
</div>
<div class="section level2">
<h2 id="load-packages-">Load Packages.<a class="anchor" aria-label="anchor" href="#load-packages-"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load core libraries; install these packages if you have not already</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/iDigBio/ridigbio" class="external-link">ridigbio</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load library for making nice HTML output</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">kableExtra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load libraries for visualizing geographic data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/" class="external-link">leaflet</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wilkelab.org/cowplot/" class="external-link">cowplot</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="write-a-query-to-search-for-specimen-records">Write a query to search for specimen records<a class="anchor" aria-label="anchor" href="#write-a-query-to-search-for-specimen-records"></a>
</h2>
<p>First, let’s find all the specimen records for the data quality flag
we are interested in. Do this using the <code>idig_search_records</code>
function from the <code>ridigbio</code> package. You can learn more
about this function from the <a href="https://github.com/iDigBio/idigbio-search-api/wiki" class="external-link">iDigBio API
documentation</a> and <a href="https://cran.r-project.org/package=ridigbio/ridigbio.pdf" class="external-link">ridigbio
documentation</a>. In this example, we want to start by searching for
specimens flagged with “rev_geocode_corrected.”</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Edit the fields (e.g. `flags`) and values (e.g. "rev_geocode_corrected") in</span></span>
<span><span class="co"># `list()` to adjust your query and the fields (e.g. `uuid`) in `fields` to</span></span>
<span><span class="co"># adjust the columns returned in your results</span></span>
<span><span class="va">df_flagCoord</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/idig_search_records.html">idig_search_records</a></span><span class="op">(</span>rq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>flags <span class="op">=</span> <span class="st">"rev_geocode_corrected"</span>,</span>
<span>                                              institutioncode <span class="op">=</span> <span class="st">"lacm"</span><span class="op">)</span>,</span>
<span>                    fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"uuid"</span>,</span>
<span>                               <span class="st">"institutioncode"</span>,</span>
<span>                               <span class="st">"collectioncode"</span>,</span>
<span>                               <span class="st">"country"</span>,</span>
<span>                               <span class="st">"data.dwc:country"</span>,</span>
<span>                               <span class="st">"stateprovince"</span>,</span>
<span>                               <span class="st">"county"</span>,</span>
<span>                               <span class="st">"locality"</span>,</span>
<span>                               <span class="st">"geopoint"</span>,</span>
<span>                               <span class="st">"data.dwc:decimalLongitude"</span>,</span>
<span>                               <span class="st">"data.dwc:decimalLatitude"</span>,</span>
<span>                               <span class="st">"flags"</span><span class="op">)</span>,</span>
<span>                    limit <span class="op">=</span> <span class="fl">100000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># Rename fields to more easily reflect their provenance (either from the</span></span>
<span>  <span class="co"># data provider directly or modified by the data aggregator)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>provider_lon <span class="op">=</span> <span class="va">`data.dwc:decimalLongitude`</span>,</span>
<span>         provider_lat <span class="op">=</span> <span class="va">`data.dwc:decimalLatitude`</span>,</span>
<span>         provider_country <span class="op">=</span> <span class="va">`data.dwc:country`</span>,</span>
<span>         aggregator_lon <span class="op">=</span> <span class="va">`geopoint.lon`</span>,</span>
<span>         aggregator_lat <span class="op">=</span> <span class="va">`geopoint.lat`</span>,</span>
<span>         aggregator_country <span class="op">=</span> <span class="va">country</span>,</span>
<span>         aggregator_stateprovince <span class="op">=</span> <span class="va">stateprovince</span>,</span>
<span>         aggregator_county <span class="op">=</span> <span class="va">county</span>,</span>
<span>         aggregator_locality <span class="op">=</span> <span class="va">locality</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># Reorder columns for easier viewing</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">uuid</span>, <span class="va">institutioncode</span>, <span class="va">collectioncode</span>, <span class="va">provider_lat</span>, <span class="va">aggregator_lat</span>,</span>
<span>         <span class="va">provider_lon</span>, <span class="va">aggregator_lon</span>, <span class="va">provider_country</span>, <span class="va">aggregator_country</span>,</span>
<span>         <span class="va">aggregator_stateprovince</span>, <span class="va">aggregator_county</span>, <span class="va">aggregator_locality</span>,</span>
<span>         <span class="va">flags</span><span class="op">)</span></span></code></pre></div>
<p>Here is what our query result data looks like:</p>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; overflow-x: scroll; width:100%; ">
<table class="table table table-striped table-hover table-condensed" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
uuid
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
institutioncode
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
collectioncode
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
provider_lat
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aggregator_lat
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
provider_lon
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aggregator_lon
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
provider_country
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aggregator_country
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aggregator_stateprovince
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aggregator_county
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aggregator_locality
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
02a5f38f-cd94-4b9c-af7d-260922884712
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
03965834-16f2-45f1-bf63-8d5975e9c218
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
04af5298-a987-474e-991c-c333c873c7e6
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
1.07
</td>
<td style="text-align:right;">
-1.0700000
</td>
<td style="text-align:left;">
-69.52
</td>
<td style="text-align:right;">
-69.52000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
vaupes
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
est. biol. mosiro-itajura (caparu), terrazas
</td>
</tr>
<tr>
<td style="text-align:left;">
050dde64-2647-4e70-9a46-417ebe968410
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
birds
</td>
<td style="text-align:left;">
1.13
</td>
<td style="text-align:right;">
-1.1300000
</td>
<td style="text-align:left;">
34.55
</td>
<td style="text-align:right;">
34.55000
</td>
<td style="text-align:left;">
KENYA
</td>
<td style="text-align:left;">
kenya
</td>
<td style="text-align:left;">
western prov
</td>
<td style="text-align:left;">
bungoma dist
</td>
<td style="text-align:left;">
mt elgon, se
</td>
</tr>
<tr>
<td style="text-align:left;">
052373a4-68cd-4dcc-8ed3-6a66b8a58fef
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
1.07
</td>
<td style="text-align:right;">
-1.0700000
</td>
<td style="text-align:left;">
-69.52
</td>
<td style="text-align:right;">
-69.52000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
vaupes
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
est. biol. mosiro-itajura (caparu), terrazas
</td>
</tr>
<tr>
<td style="text-align:left;">
06a8595e-5d1d-4e33-a7f8-0b48e2d7b78c
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
1.07
</td>
<td style="text-align:right;">
-1.0700000
</td>
<td style="text-align:left;">
-69.52
</td>
<td style="text-align:right;">
-69.52000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
vaupes
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
est. biol. mosiro-itajura (caparu), terrazas
</td>
</tr>
<tr>
<td style="text-align:left;">
094069c2-ea4d-4003-86a0-17312bd169b9
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
birds
</td>
<td style="text-align:left;">
33.61238
</td>
<td style="text-align:right;">
33.6123800
</td>
<td style="text-align:left;">
116.4298
</td>
<td style="text-align:right;">
-116.42980
</td>
<td style="text-align:left;">
UNITED STATES
</td>
<td style="text-align:left;">
united states
</td>
<td style="text-align:left;">
california
</td>
<td style="text-align:left;">
riverside co
</td>
<td style="text-align:left;">
carrizo rd; santa rosa mt vic
</td>
</tr>
<tr>
<td style="text-align:left;">
0a857a04-8f52-4a23-af22-a3251e1e6e80
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
0bba0f38-10ba-43a4-a20a-94a2d2f373aa
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
0cd78aa7-4b3d-4c59-9405-0ac20d6ed073
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
0fccffb0-c34c-4572-a28a-abecc9de4ac6
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.0883333
</td>
<td style="text-align:left;">
20.08833333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e junct. maloopoo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
0ffae23c-59b6-4b4c-8cf5-89ad6edace6a
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
mammals
</td>
<td style="text-align:left;">
-26.02778
</td>
<td style="text-align:right;">
-32.9044400
</td>
<td style="text-align:left;">
32.90444
</td>
<td style="text-align:right;">
26.02778
</td>
<td style="text-align:left;">
South Africa
</td>
<td style="text-align:left;">
south africa
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
inhaca marine sta.
</td>
</tr>
<tr>
<td style="text-align:left;">
0ffcdac3-a4d5-415f-8a8d-0a7ba16c4f46
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-46.66666666666
</td>
<td style="text-align:right;">
-46.6666667
</td>
<td style="text-align:left;">
-170.05
</td>
<td style="text-align:right;">
170.05000
</td>
<td style="text-align:left;">
New Zealand
</td>
<td style="text-align:left;">
new zealand
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
east of new zealand
</td>
</tr>
<tr>
<td style="text-align:left;">
137cfaf8-dab4-43b8-b2d1-4b0f5ab811a6
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
14fcacfa-ebfc-4840-b865-2796ff6a5555
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-46.66666666666
</td>
<td style="text-align:right;">
-46.6666667
</td>
<td style="text-align:left;">
-170.05
</td>
<td style="text-align:right;">
170.05000
</td>
<td style="text-align:left;">
New Zealand
</td>
<td style="text-align:left;">
new zealand
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
east of new zealand
</td>
</tr>
<tr>
<td style="text-align:left;">
18ee02eb-35a4-46a8-86fc-316e8242efa7
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
1.07
</td>
<td style="text-align:right;">
-1.0700000
</td>
<td style="text-align:left;">
-69.52
</td>
<td style="text-align:right;">
-69.52000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
vaupes
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
est. biol. mosiro-itajura (caparu), terrazas
</td>
</tr>
<tr>
<td style="text-align:left;">
1bd5ca7b-7462-4ab7-9fc4-bda91284498c
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
birds
</td>
<td style="text-align:left;">
1.13
</td>
<td style="text-align:right;">
-1.1300000
</td>
<td style="text-align:left;">
34.55
</td>
<td style="text-align:right;">
34.55000
</td>
<td style="text-align:left;">
KENYA
</td>
<td style="text-align:left;">
kenya
</td>
<td style="text-align:left;">
western prov
</td>
<td style="text-align:left;">
bungoma dist
</td>
<td style="text-align:left;">
mt elgon, s e
</td>
</tr>
<tr>
<td style="text-align:left;">
1c2f3837-0371-4a33-a435-a8789ae36921
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
2013704d-9ad1-4975-a3e5-af0783e41408
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
21f91d78-e9c2-4148-abb7-f67956c5eab9
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
1.07
</td>
<td style="text-align:right;">
-1.0700000
</td>
<td style="text-align:left;">
-69.52
</td>
<td style="text-align:right;">
-69.52000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
vaupes
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
est. biol. mosiro-itajura (caparu), terrazas
</td>
</tr>
<tr>
<td style="text-align:left;">
232204b8-41e5-4e32-b1a7-16bb291f54ce
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-1
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:left;">
33
</td>
<td style="text-align:right;">
33.00000
</td>
<td style="text-align:left;">
Uganda
</td>
<td style="text-align:left;">
uganda
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
minziro area; sango bay, lake victoria
</td>
</tr>
<tr>
<td style="text-align:left;">
2601c9da-916a-4f69-8e02-ccf9a0fe1781
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
26029e26-190c-4c66-93ac-9c3d10698933
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
29eb7f29-d71c-4416-87bc-6b499cc19bd3
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-46.66666666666
</td>
<td style="text-align:right;">
-46.6666667
</td>
<td style="text-align:left;">
-170.05
</td>
<td style="text-align:right;">
170.05000
</td>
<td style="text-align:left;">
New Zealand
</td>
<td style="text-align:left;">
new zealand
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
east of new zealand
</td>
</tr>
<tr>
<td style="text-align:left;">
2aa91566-c7ed-4256-9fcb-e6f7a9a1ca4f
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
2b1321a1-e453-4163-acc4-19cf7962fe64
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
2b9611dc-0677-4205-8e2f-023c97159457
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
2bcc0f15-621a-42a3-a5d4-74a639cda643
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
0.7983333333333
</td>
<td style="text-align:right;">
-0.7983333
</td>
<td style="text-align:left;">
-86.15361111111
</td>
<td style="text-align:right;">
-86.15361
</td>
<td style="text-align:left;">
Ecuador
</td>
<td style="text-align:left;">
ecuador
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
galapagos rift zone, hydrothermal vent (mussel bed)
</td>
</tr>
<tr>
<td style="text-align:left;">
2d032f5c-bc9d-42b9-b84e-cef909304bbf
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
1.07
</td>
<td style="text-align:right;">
-1.0700000
</td>
<td style="text-align:left;">
-69.52
</td>
<td style="text-align:right;">
-69.52000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
vaupes
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
est. biol. mosiro-itajura (caparu), terrazas
</td>
</tr>
<tr>
<td style="text-align:left;">
2d44e945-5411-47ea-a1c3-7a4648bb3bf7
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
1.9833333333333
</td>
<td style="text-align:right;">
-1.9833333
</td>
<td style="text-align:left;">
-84.25
</td>
<td style="text-align:right;">
-84.25000
</td>
<td style="text-align:left;">
Ecuador
</td>
<td style="text-align:left;">
ecuador
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
off ecuador
</td>
</tr>
<tr>
<td style="text-align:left;">
2f0db601-24c9-4814-b08f-48e75a770647
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-1
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:left;">
33
</td>
<td style="text-align:right;">
33.00000
</td>
<td style="text-align:left;">
Uganda
</td>
<td style="text-align:left;">
uganda
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
minziro area; sango bay, lake victoria
</td>
</tr>
<tr>
<td style="text-align:left;">
3273d73e-394a-435c-8863-2bdffbff4a54
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-1
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:left;">
33
</td>
<td style="text-align:right;">
33.00000
</td>
<td style="text-align:left;">
Uganda
</td>
<td style="text-align:left;">
uganda
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
minziro area; sango bay, lake victoria
</td>
</tr>
<tr>
<td style="text-align:left;">
339c12de-2c83-470f-819b-281ee93c5a08
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
33a4537d-2f9e-4cb6-bc53-e5905ef4df93
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
34.148476
</td>
<td style="text-align:right;">
34.1484760
</td>
<td style="text-align:left;">
118.281825
</td>
<td style="text-align:right;">
-118.28182
</td>
<td style="text-align:left;">
USA
</td>
<td style="text-align:left;">
united states
</td>
<td style="text-align:left;">
california
</td>
<td style="text-align:left;">
los angeles
</td>
<td style="text-align:left;">
autry museum of the american west, entry plaza (found dead), griffith
park
</td>
</tr>
<tr>
<td style="text-align:left;">
33c29345-ff7f-4952-9152-4c24f5fc25ea
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-46.66666666666
</td>
<td style="text-align:right;">
-46.6666667
</td>
<td style="text-align:left;">
-170.05
</td>
<td style="text-align:right;">
170.05000
</td>
<td style="text-align:left;">
New Zealand
</td>
<td style="text-align:left;">
new zealand
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
east of new zealand
</td>
</tr>
<tr>
<td style="text-align:left;">
342fb17d-685a-4cd2-8ca3-dae36e83f649
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
mammals
</td>
<td style="text-align:left;">
-26.02778
</td>
<td style="text-align:right;">
-32.9044400
</td>
<td style="text-align:left;">
32.90444
</td>
<td style="text-align:right;">
26.02778
</td>
<td style="text-align:left;">
South Africa
</td>
<td style="text-align:left;">
south africa
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
inhaca marine sta.
</td>
</tr>
<tr>
<td style="text-align:left;">
34ce1af0-31dd-4b87-9b3e-00505ff87801
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
3a138c50-2f89-4387-a74d-f6ecf85701f6
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
birds
</td>
<td style="text-align:left;">
32.33340
</td>
<td style="text-align:right;">
32.3334000
</td>
<td style="text-align:left;">
110.92820
</td>
<td style="text-align:right;">
-110.92820
</td>
<td style="text-align:left;">
UNITED STATES
</td>
<td style="text-align:left;">
united states
</td>
<td style="text-align:left;">
arizona
</td>
<td style="text-align:left;">
pima co
</td>
<td style="text-align:left;">
2900 block e manzanita ridge pl; north tucson
</td>
</tr>
<tr>
<td style="text-align:left;">
3af09e5c-20be-4cee-ae5a-168b9671f86c
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
birds
</td>
<td style="text-align:left;">
32.33340
</td>
<td style="text-align:right;">
32.3334000
</td>
<td style="text-align:left;">
110.92820
</td>
<td style="text-align:right;">
-110.92820
</td>
<td style="text-align:left;">
UNITED STATES
</td>
<td style="text-align:left;">
united states
</td>
<td style="text-align:left;">
arizona
</td>
<td style="text-align:left;">
pima co
</td>
<td style="text-align:left;">
2900 block e manzanita ridge pl; north tucson
</td>
</tr>
<tr>
<td style="text-align:left;">
3b9b6115-1240-4f61-9c35-08868bbd4bea
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
1.9833333333333
</td>
<td style="text-align:right;">
-1.9833333
</td>
<td style="text-align:left;">
-84.25
</td>
<td style="text-align:right;">
-84.25000
</td>
<td style="text-align:left;">
Ecuador
</td>
<td style="text-align:left;">
ecuador
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
off ecuador
</td>
</tr>
<tr>
<td style="text-align:left;">
3c41837e-ee5e-4746-96a3-b5ab4afa8401
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
3eea998e-041d-4474-a4ce-ef012cbfe15a
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
1.07
</td>
<td style="text-align:right;">
-1.0700000
</td>
<td style="text-align:left;">
-69.52
</td>
<td style="text-align:right;">
-69.52000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
vaupes
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
est. biol. mosiro-itajura (caparu), terrazas
</td>
</tr>
<tr>
<td style="text-align:left;">
403c732d-b497-403d-b8a2-07e9b6af7f3e
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
2.15
</td>
<td style="text-align:right;">
-2.1500000
</td>
<td style="text-align:left;">
-79.15
</td>
<td style="text-align:right;">
-79.15000
</td>
<td style="text-align:left;">
Ecuador
</td>
<td style="text-align:left;">
ecuador
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
ecuador and vicinity, tumoro bank
</td>
</tr>
<tr>
<td style="text-align:left;">
41bb848f-15a1-45e6-970e-16697a8ff8d5
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.13
</td>
<td style="text-align:right;">
4.1300000
</td>
<td style="text-align:left;">
-69.90
</td>
<td style="text-align:right;">
-69.90000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 km w leticia
</td>
</tr>
<tr>
<td style="text-align:left;">
4551f993-bced-456e-9c44-f31f115c80c0
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
<tr>
<td style="text-align:left;">
46216711-da11-45ab-8185-1720d773619f
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
-46.66666666666
</td>
<td style="text-align:right;">
-46.6666667
</td>
<td style="text-align:left;">
-170.05
</td>
<td style="text-align:right;">
170.05000
</td>
<td style="text-align:left;">
New Zealand
</td>
<td style="text-align:left;">
new zealand
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
east of new zealand
</td>
</tr>
<tr>
<td style="text-align:left;">
478fa5a1-04db-45d6-95a6-40dc715f9f67
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
malacology
</td>
<td style="text-align:left;">
58.7900
</td>
<td style="text-align:right;">
52.9600000
</td>
<td style="text-align:left;">
-52.9600
</td>
<td style="text-align:right;">
-58.79000
</td>
<td style="text-align:left;">
Canada
</td>
<td style="text-align:left;">
canada
</td>
<td style="text-align:left;">
newfoundland &amp; labrador
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
labrador sea, ne of
</td>
</tr>
<tr>
<td style="text-align:left;">
48a5cd6c-b20a-464c-92b7-85a6877e9f90
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
ent
</td>
<td style="text-align:left;">
-4.19
</td>
<td style="text-align:right;">
4.1900000
</td>
<td style="text-align:left;">
-69.93
</td>
<td style="text-align:right;">
-69.93000
</td>
<td style="text-align:left;">
Colombia
</td>
<td style="text-align:left;">
colombia
</td>
<td style="text-align:left;">
amazonas
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
leticia, imani station
</td>
</tr>
<tr>
<td style="text-align:left;">
49169dce-0a10-4f26-a93f-a43ad3528e23
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
fish
</td>
<td style="text-align:left;">
1.9833333333333
</td>
<td style="text-align:right;">
-1.9833333
</td>
<td style="text-align:left;">
-84.25
</td>
<td style="text-align:right;">
-84.25000
</td>
<td style="text-align:left;">
Ecuador
</td>
<td style="text-align:left;">
ecuador
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
off ecuador
</td>
</tr>
<tr>
<td style="text-align:left;">
4ac9fdcb-4a1a-46d2-9afb-c202c87d53f3
</td>
<td style="text-align:left;">
lacm
</td>
<td style="text-align:left;">
herps
</td>
<td style="text-align:left;">
-26.8
</td>
<td style="text-align:right;">
-20.8833333
</td>
<td style="text-align:left;">
20.88333333
</td>
<td style="text-align:right;">
26.80000
</td>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:left;">
botswana
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
7 mi n, 12 mi e jct., molopo-nossob rivers
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="visualize-suspicious-coordinates">Visualize suspicious coordinates<a class="anchor" aria-label="anchor" href="#visualize-suspicious-coordinates"></a>
</h2>
<p>One example of a geographic coordinate data quality issue would be
that the latitude/longitude has a reversed sign, e.g. the data provider
gave the value <em>latitude</em> = “7.1789” but meant <em>latitude</em>
= “-7.1789.” In the map below we can see a few examples of specimen
records published to iDigBio where this is the case. These data have
been adjusted by iDigBio and this action is recorded with the data
quality flag “rev_geocode_flip_lat_sign.”</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create function to allow subsetting the `df_flagCoord` dataset by other flags</span></span>
<span><span class="co"># found on these same records</span></span>
<span><span class="va">df_flagSubset</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">subsetFlag</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">df_flagCoord</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="va">subsetFlag</span>, <span class="va">flags</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">uuid</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"_lat|_lon"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unite.html" class="external-link">unite</a></span><span class="op">(</span><span class="va">provider_coords</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"provider_lat"</span>, <span class="st">"provider_lon"</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unite.html" class="external-link">unite</a></span><span class="op">(</span><span class="va">aggregator_coords</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aggregator_lat"</span>, <span class="st">"aggregator_lon"</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">gather</a></span><span class="op">(</span>key <span class="op">=</span> <span class="va">type</span>, value <span class="op">=</span> <span class="va">coordinates</span>, <span class="op">-</span><span class="va">uuid</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">separate</a></span><span class="op">(</span><span class="va">coordinates</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lat"</span>,<span class="st">"lon"</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">lat</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">lon</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">uuid</span>, <span class="va">type</span><span class="op">)</span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Subset `df_flagCoord` by records flagged for having had their latitude negated</span></span>
<span><span class="co"># to place point in stated country by reverse geocoding process</span></span>
<span><span class="va">df_rev_geocode_lat_sign</span> <span class="op">&lt;-</span> <span class="fu">df_flagSubset</span><span class="op">(</span><span class="st">"rev_geocode_lat_sign"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create map displaying a few examples of records with the</span></span>
<span><span class="co"># rev_geocode_flip_lat_sign flag</span></span>
<span><span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/colorNumeric.html" class="external-link">colorFactor</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#d7191c"</span>, <span class="st">"#fdae61"</span>, <span class="st">"#ffffbf"</span>, <span class="st">"#abdda4"</span>, <span class="st">"#2b83ba"</span><span class="op">)</span>,</span>
<span>                   domain <span class="op">=</span> <span class="va">df_rev_geocode_lat_sign</span><span class="op">$</span><span class="va">uuid</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">map</span> <span class="op">&lt;-</span> <span class="va">df_rev_geocode_lat_sign</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>popup <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span><span class="va">type</span>, <span class="st">" = "</span>, <span class="va">lat</span>, <span class="st">", "</span>, <span class="va">lon</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addCircleMarkers</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="op">~</span><span class="va">lon</span>,</span>
<span>    lat <span class="op">=</span> <span class="op">~</span><span class="va">lat</span>,</span>
<span>    radius <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    weight <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    color <span class="op">=</span> <span class="op">~</span><span class="fu">pal</span><span class="op">(</span><span class="va">uuid</span><span class="op">)</span>,</span>
<span>    stroke <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    fillOpacity <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    popup <span class="op">=</span> <span class="op">~</span><span class="va">popup</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/addLegend.html" class="external-link">addLegend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, pal <span class="op">=</span> <span class="va">pal</span>, values <span class="op">=</span> <span class="op">~</span><span class="va">uuid</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Specimen Records"</span>,</span>
<span>    opacity <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>We can visualize this data on a map to better understand what the
data quality flag is telling us. For example, in the map below you can
see the effect of accidentally reversing the latitude on three example
georeferenced specimen records.</p>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[-1.07,1.07,-1.13,1.13,-1.07,1.07,-1.07,1.07,4.13,-4.13],[-69.52,-69.52,34.55,34.55,-69.52,-69.52,-69.52,-69.52,-69.90000000000001,-69.90000000000001],10,null,null,{"interactive":true,"className":"","stroke":false,"color":["#D7191C","#D7191C","#FDAE61","#FDAE61","#FFFFBF","#FFFFBF","#ABDDA4","#ABDDA4","#2B83BA","#2B83BA"],"weight":1,"opacity":0.5,"fill":true,"fillColor":["#D7191C","#D7191C","#FDAE61","#FDAE61","#FFFFBF","#FFFFBF","#ABDDA4","#ABDDA4","#2B83BA","#2B83BA"],"fillOpacity":100},null,null,["aggregator_coords = -1.07, -69.52","provider_coords = 1.07, -69.52","aggregator_coords = -1.13, 34.55","provider_coords = 1.13, 34.55","aggregator_coords = -1.07, -69.52","provider_coords = 1.07, -69.52","aggregator_coords = -1.07, -69.52","provider_coords = 1.07, -69.52","aggregator_coords = 4.13, -69.9","provider_coords = -4.13, -69.9"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#D7191C","#FDAE61","#FFFFBF","#ABDDA4","#2B83BA"],"labels":["04af5298-a987-474e-991c-c333c873c7e6","050dde64-2647-4e70-9a46-417ebe968410","052373a4-68cd-4dcc-8ed3-6a66b8a58fef","06a8595e-5d1d-4e33-a7f8-0b48e2d7b78c","0a857a04-8f52-4a23-af22-a3251e1e6e80"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"factor","title":"Specimen Records","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[-4.13,4.13],"lng":[-69.90000000000001,34.55]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="summarize-and-explore-data">Summarize and explore data<a class="anchor" aria-label="anchor" href="#summarize-and-explore-data"></a>
</h2>
<p>The iDigBio API provides a means for an institution to examine data
quality issues across collections, which sometimes is not possible
internally when data in different collections are managed in different
databases.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summarize flagged records by collection type</span></span>
<span><span class="va">spmByColl</span> <span class="op">&lt;-</span> <span class="va">df_flagCoord</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">collectioncode</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate graph to display counts of flagged records by collection within the</span></span>
<span><span class="co"># institution</span></span>
<span><span class="va">graph_spmByColl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">spmByColl</span>, </span>
<span>                          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">collectioncode</span>, <span class="op">-</span><span class="va">n</span><span class="op">)</span>, </span>
<span>                              y <span class="op">=</span> <span class="va">n</span>,</span>
<span>                              fill <span class="op">=</span> <span class="va">collectioncode</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>panel.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,</span>
<span>        axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        axis.ticks.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"collection"</span>, </span>
<span>       y <span class="op">=</span> <span class="st">"# of specimen records"</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"LACM records flagged with geo-coordinate data quality issues by iDigBio"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">n</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get count of total records published by the institution using function</span></span>
<span><span class="co"># `idig_count_records`</span></span>
<span><span class="va">totalInstSpm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/idig_count_records.html">idig_count_records</a></span><span class="op">(</span>rq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>institutioncode <span class="op">=</span> <span class="st">"lacm"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate flagged records as percent of total records</span></span>
<span><span class="va">percentFlagged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">spmByColl</span><span class="op">$</span><span class="va">n</span><span class="op">)</span><span class="op">/</span><span class="va">totalInstSpm</span><span class="op">*</span><span class="fl">100</span></span></code></pre></div>
<p>For example, we can ask how many specimen records from which
collections at the Natural History Museum of Los Angeles (LACM) have
been flagged as “rev_geocode_corrected” by iDigBio. <em>As an aside,
although this graph highlights the number of specimen records with data
quality issues, these represent only:</em></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">percentFlagged</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"%"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "0.01%"</span></span></code></pre>
<p><em>of the total specimen records published by LACM.</em></p>
<p><img src="plot.png" width="700px"></p>
<p>We can also explore what <em>other</em> data quality flags these
specimen records have been flagged with.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Collate `df_flagAssoc` to describe other data quality flags that are associated</span></span>
<span><span class="co"># with rev_geocode_corrected in `df_flagCoord`</span></span>
<span><span class="va">df_flagAssoc</span> <span class="op">&lt;-</span> <span class="va">df_flagCoord</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">uuid</span>, <span class="va">flags</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">flags</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">flags</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="st">"category"</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">flags</span>, <span class="st">"geo|country|state"</span><span class="op">)</span></span>
<span>                              <span class="op">~</span> <span class="st">"geography"</span>,</span>
<span>                      <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">flags</span>, <span class="st">"dwc_datasetid_added|dwc_multimedia_added|datecollected_bounds"</span><span class="op">)</span></span>
<span>                              <span class="op">~</span> <span class="st">"other"</span>,</span>
<span>                      <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">flags</span>, <span class="st">"gbif|dwc|tax"</span><span class="op">)</span></span>
<span>                              <span class="op">~</span> <span class="st">"taxonomy"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="st">"percent"</span> <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">df_flagCoord</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">category</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize associated data quality flags</span></span>
<span><span class="va">graph_spmByColl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">df_flagAssoc</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">flags</span>, <span class="op">-</span><span class="va">percent</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">percent</span>, fill <span class="op">=</span> <span class="va">category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">75</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>        axis.ticks.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span></span>
<span>        <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"additional iDigBio data quality flag"</span>, </span>
<span>       y <span class="op">=</span> <span class="st">"% specimen records"</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"LACM records flagged for geo-coordinate issues are also flagged for..."</span>,</span>
<span>       fill <span class="op">=</span> <span class="st">"flag category"</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot2.png" width="700px"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francois Michonneau, Matthew Collins, Michelle L. Gaynor, Jesse Bennett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
